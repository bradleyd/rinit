#!/usr/bin/env ruby
# encoding: utf-8

lib = File.expand_path(File.dirname(__FILE__) + '/../lib')
$LOAD_PATH.unshift(lib) if File.directory?(lib) && !$LOAD_PATH.include?(lib)
require "bundler/setup"
require 'rinit'
require 'optparse'

options = {}
banner = nil

# set the default option is none are given
#
OptionParser.new do |opts|
  opts.banner = "Usage: #{__FILE__} [options]"

  opts.on("-t ", "--template ", "template") do |g|
    options[:template] = g
  end


  opts.on_tail("-h", "--help", "Show this message") do
    puts opts
    exit
  end
  #set current options
  banner = opts

end.parse!

if options.empty?
  puts banner
  exit
end

require 'fileutils'
p File.expand_path(File.dirname(__FILE__), __FILE__)
FileUtils.cp File.join(File.expand_path(File.dirname(__FILE__), __FILE__), '../test/support/sample_init.rb'), options.fetch(:template) { 'sample_init'}

